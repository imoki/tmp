import{_ as h}from"./preload-helper.CLcXU_4U.js";import{c as p,e as u,b as i,t as d,S as x}from"./web.D7gt3geL.js";import{C as y}from"./Coder.BqL6y9yp.js";var g=d('<label class="form-control w-full max-w-xs"><div class=label><span class=label-text>输入你的 pubkey （可选）</span></div><input type=text placeholder="pubkey 不知道是啥不填写"class="input input-bordered input-primary w-full max-w-xs">'),_=d('<label class="form-control w-full max-w-xs"><div class=label><span class=label-text>输入你的手机号</span></div><input type=text placeholder=手机号 class="input input-bordered input-primary w-full max-w-xs">'),v=d('<label class="form-control w-full max-w-xs "><div class=label><span class=label-text>输入你的登录密码</span></div><input type=text placeholder=登录密码 class="input input-bordered input-primary w-full max-w-xs">');function f(n){const s=atob(n);let o="";for(let r=0;r<s.length;r++){const a=s.charCodeAt(r).toString(16);o+=a.length===2?a:"0"+a}return o.toUpperCase()}async function E(n,s){n=`-----BEGIN PUBLIC KEY-----
${n}
-----END PUBLIC KEY-----`;const{JSEncrypt:o}=await h(async()=>{const{JSEncrypt:a}=await import("./index.DUQK7u-b.js");return{JSEncrypt:a}},[]),r=new o;return r.setPublicKey(n),r.encrypt(s)}function B(){const n="MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCZLyV4gHNDUGJMZoOcYauxmNEsKrc0TlLeBEVVIIQNzG4WqjimceOj5R9ETwDeeSN3yejAKLGHgx83lyy2wBjvnbfm/nLObyWwQD/09CmpZdxoFYCH6rdDjRpwZOZ2nXSZpgkZXoOBkfNXNxnN74aXtho2dqBynTw3NFTWyQl8BQIDAQAB",[s,o]=p(n),[r,a]=p(""),[b,w]=p("");async function m(e,l){if(l.trim()===""){switch(e){case"phone":a(()=>"");break;case"password":w(()=>"");break}return}const t=await E(s(),l);switch(e){case"phone":t&&a(()=>f(t));break;case"password":t&&w(()=>f(t));break}}return[(()=>{var e=u(g),l=e.firstChild,t=l.nextSibling;return t.addEventListener("blur",c=>o(()=>c.currentTarget.value?.trim()||n)),e})(),(()=>{var e=u(_),l=e.firstChild,t=l.nextSibling;return t.addEventListener("blur",c=>m("phone",c.currentTarget.value)),e})(),i(x,{get when(){return r()},get children(){return i(y,{get code(){return r()}})}}),(()=>{var e=u(v),l=e.firstChild,t=l.nextSibling;return t.addEventListener("blur",c=>m("password",c.currentTarget.value)),e})(),i(x,{get when(){return b()},get children(){return i(y,{get code(){return b()}})}})]}export{B as RsaEncrypt};
